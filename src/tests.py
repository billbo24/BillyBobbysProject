import timeit
import unittest

from src.scrapeWikiBaseball import ValidateNames, get_links, get_names_from_links, get_names_from_links_test, get_names_from_links_test_function

class ScrapeTest(unittest.TestCase):

    def test_scrape(self):
    
        page = 'List of Members Baseball Hall of Fame'
        links = get_links(page)
        bad_words = ["Chicago","AFL","AFC","National","American","Academy"]
        persons = set(get_names_from_links(links, bad_words))

        self.assertIn('Ty Cobb', persons)
        self.assertIn('Honus Wagner', persons)
        self.assertIn('Tris Speaker', persons)

class FunctionSpeedTest(unittest.TestCase):

    @classmethod
    def setUpClass(cls):
        cls.bad_words = set(["Chicago","AFL","AFC","National","American","Academy"])
        cls.names = get_test_names(1000)
        print(f'{len(cls.names):,} names')

    def test_parse_names_no_function(self):
        run_time = timeit.timeit(lambda: list(get_names_from_links(self.names, self.bad_words)), number=5)
        print(f'No Function run time: {run_time} seconds')

    # def test_parse_names_function(self):
    #     run_time = timeit.timeit(lambda: list(get_names_from_links_test_function(self.names, self.bad_words)), number=1)
    #     print(f'With Function run time: {run_time} seconds')

    # def test_parse_names_class(self):
    #     v = ValidateNames(self.bad_words)
    #     run_time = timeit.timeit(lambda: list(v.get_names(self.names)), number=1)
    #     print(f'With Class run time: {run_time} seconds')

    def test_get_names_from_links_test(self):
        run_time = timeit.timeit(lambda: list(get_names_from_links_test(self.names, self.bad_words)), number=5)
        print(f'No split func run time: {run_time} seconds')
        

def get_test_names(multiply_count: int = None) -> list[str]:

    if multiply_count is None:
        multiply_count = 1

    return multiply_count * ['1936 Baseball Hall of Fame balloting', '1937 Baseball Hall of Fame balloting', '1938 Baseball Hall of Fame balloting', '1939 Baseball Hall of Fame balloting', '1942 Baseball Hall of Fame balloting', '1944 Baseball Hall of Fame balloting', '1945 Baseball Hall of Fame balloting', '1946 Baseball Hall of Fame balloting', '1947 Baseball Hall of Fame balloting', '1948 Baseball Hall of Fame balloting', '1949 Baseball Hall of Fame balloting', '1950 Baseball Hall of Fame balloting', '1951 Baseball Hall of Fame balloting', '1952 Baseball Hall of Fame balloting', '1953 Baseball Hall of Fame balloting', '1954 Baseball Hall of Fame balloting', '1955 Baseball Hall of Fame balloting', '1956 Baseball Hall of Fame balloting', '1957 Baseball Hall of Fame balloting', '1958 Baseball Hall of Fame balloting', '1959 Baseball Hall of Fame balloting', '1960 Baseball Hall of Fame balloting', '1961 Baseball Hall of Fame balloting', '1961 Major League Baseball expansion', '1962 Baseball Hall of Fame balloting', '1962 Major League Baseball expansion', '1963 Baseball Hall of Fame balloting', '1964 Baseball Hall of Fame balloting', '1965 Baseball Hall of Fame balloting', '1966 Baseball Hall of Fame balloting', '1967 Baseball Hall of Fame balloting', '1968 Baseball Hall of Fame balloting', '1969 Baseball Hall of Fame balloting', '1969 Major League Baseball expansion', '1970 Baseball Hall of Fame balloting', '1971 Baseball Hall of Fame balloting', '1972 Baseball Hall of Fame balloting', '1973 Baseball Hall of Fame balloting', '1974 Baseball Hall of Fame balloting', '1975 Baseball Hall of Fame balloting', '1976 Baseball Hall of Fame balloting', '1977 Baseball Hall of Fame balloting', '1977 Major League Baseball expansion', '1978 Baseball Hall of Fame balloting', '1979 Baseball Hall of Fame balloting', '1980 Baseball Hall of Fame balloting', '1981 Baseball Hall of Fame balloting', '1982 Baseball Hall of Fame balloting', '1983 Baseball Hall of Fame balloting', '1984 Baseball Hall of Fame balloting', '1985 Baseball Hall of Fame balloting', '1986 Baseball Hall of Fame balloting', '1987 Baseball Hall of Fame balloting', '1988 Baseball Hall of Fame balloting', '1989 Baseball Hall of Fame balloting', '1990 Baseball Hall of Fame balloting', '1991 Baseball Hall of Fame balloting', '1992 Baseball Hall of Fame balloting', '1993 Baseball Hall of Fame balloting', '1993 Major League Baseball expansion', '1994 Baseball Hall of Fame balloting', '1995 Baseball Hall of Fame balloting', '1996 Baseball Hall of Fame balloting', '1997 Baseball Hall of Fame balloting', '1998 Baseball Hall of Fame balloting', '1998 Major League Baseball expansion', '1999 Baseball Hall of Fame balloting', '2000 Baseball Hall of Fame balloting', '2001 Baseball Hall of Fame balloting', '2001 Major League Baseball contraction plan', '2002 Baseball Hall of Fame balloting', '2003 Baseball Hall of Fame balloting', '2004 Baseball Hall of Fame balloting', '2005 Baseball Hall of Fame balloting', '2006 Baseball Hall of Fame balloting', '2007 Baseball Hall of Fame balloting', '2008 Baseball Hall of Fame balloting', '2009 Baseball Hall of Fame balloting', '2010 Baseball Hall of Fame balloting', '2011 Baseball Hall of Fame balloting', '2012 Baseball Hall of Fame balloting', '2013 Baseball Hall of Fame balloting', 
                '2014 Baseball Hall of Fame balloting', '2015 Baseball Hall of Fame balloting', '2016 Baseball Hall of Fame balloting', '2017 Baseball Hall of Fame balloting', '2018 Baseball Hall of Fame balloting', '2019 Baseball Hall of Fame balloting', '2020 Baseball Hall of Fame balloting', '2021 Baseball Hall of Fame balloting', '2022 Baseball Hall of Fame balloting', '2023 Baseball Hall of Fame balloting', '2023 Major League Baseball season', '2024 Baseball Hall of Fame balloting', 'A. G. Spalding', 'Acclamation', 'Addie Joss', 'Al Barlick', 'Al Kaline', 'Al López', 'Al Simmons', 'Alan Trammell', 'Albert Spalding', 'Alex Pompez', 'Alexander Cartwright', 'American League', 'American League Central', 'American League Championship Series', 'American League Division Series', 'American League East', 'American League West', 'Amos Rusie', 'Amyotrophic lateral sclerosis', 'Anaheim Angels', 'Andre Dawson', 'Andy Cooper', 'Arizona Diamondbacks', 'Arky Vaughan', 'Atlanta Braves', 'BALCO scandal', 'Babe Ruth', 'Ballot', 'Baltimore Orioles', 'Baltimore Orioles (19th century)', 'Ban Johnson', 'Barney Dreyfuss', 'Barry Bonds perjury case', 'Barry Larkin', 'Baseball', 'Baseball Hall of Fame balloting, 1953', 'Baseball Hall of Fame balloting, 2006', "Baseball Writers' Association of America", 'Baseball color line', 'Ben Taylor (Negro leagues)', 'Bert Blyleven', 'Bid McPhee', 'Bill Dickey', 'Bill Foster (baseball)', 'Bill Klem', 'Bill Mazeroski', 'Bill McGowan', 'Bill McKechnie', 'Bill Terry', 'Bill Veeck', 'Billy Evans', 'Billy Hamilton (baseball, born 1866)', 'Billy Herman', 'Billy Southworth', 'Billy Williams', 'Billy Williams (left fielder)', 'Biogenesis scandal', 'Biz Mackey', 'Bob Feller', 'Bob Gibson', 'Bob Lemon', 'Bobby Cox', 'Bobby Doerr', 'Bobby Wallace (baseball)', 'Boston Beaneaters', 'Boston Braves (baseball)', 'Boston Red Sox', 'Bowie Kuhn', 'Branch Rickey', 'Brooks Robinson', 'Bruce Sutter', 'Buck Ewing', 'Buck Leonard', "Buck O'Neil", 'Bucky Harris', 'Bud Fowler', 'Bud Selig', 'Buffalo Bisons (NL)', 'Bullet Rogan', 'Burleigh Grimes', 'COVID-19 pandemic', 'Cal Hubbard', 'Cal Ripken Jr.', 'California Angels', 'Candy Cummings', 'Cap Anson', 'Carl Hubbell', 'Carl Yastrzemski', 'Carlton Fisk', 'Casey Stengel', 'Catcher', 'Catfish Hunter', 'Center fielder', 'Charles Comiskey', 'Charles Radbourn', 'Charlie Gehringer', 'Chicago American Giants', 'Chicago Cubs', 'Chicago White Sox', 'Chicago White Stockings (1870–89)', 'Chick Hafey', 'Chief Bender', 'Chipper Jones', 'Christy Mathewson', 
                'Chuck Klein', 'Cincinnati Reds', 'Civil Rights Game', 'Clark Griffith', 'Cleveland Guardians', 'Cleveland Indians', 'Cleveland Spiders', 'Colorado Rockies', 'Commissioner of Baseball', 'Connie Mack', 'Continental League', 'Cool Papa Bell', 'Cooperstown, New York', 'Craig Biggio', 'Cristóbal Torriente', 'Cuban Baseball Hall of Fame', 'Cuban Giants', 'Cuban Stars (East)', 'Cuban Stars (West)', 'Cumberland Posey', 'Cy Young', 'Cyclone Joe Williams', 'Dan Brouthers', 'Dave Bancroft', 'Dave Winfield', 'David Ortiz', 'Dazzy Vance', 'Deacon White', 'Dead-ball era', 'Dennis Eckersley', 'Derek Jeter', 'Designated hitter', 'Detroit Stars', 'Detroit Tigers', 'Dick Williams', 'Dizzy Dean', 'Don Drysdale', 'Don Sutton', 'Doug Harvey (umpire)', 'Duke Snider', 'Earl Averill', 'Earl Weaver', 'Earle Combs', 'Early Wynn', 'Ed Barrow', 'Ed Delahanty', 'Ed Walsh', 'Edd Roush', 'Eddie Collins', 'Eddie Mathews', 'Eddie Murray', 'Eddie Plank', 'Edgar Martínez', 'Effa Manley', 'Elmer Flick', 'Enos Slaughter', 'Eppa Rixey', 'Ernie Banks', 'Ernie Lombardi', 'Federal League', 'Ferguson Jenkins', 'First baseman', "Forbes' list of the most valuable MLB clubs", 'Ford Frick', 'Frank Chance', 'Frank Grant (baseball)', 'Frank Robinson', 'Frank Selee', 'Frank Thomas (designated hitter)', 'Frankie Frisch', 'Fred Clarke', 'Fred McGriff', 'Freddie Lindstrom', 'Free agency (Major League Baseball)', 'Gabby Hartnett', 'Gary Carter', 'Gaylord Perry', 'General manager (baseball)', 'George Brett', 'George Davis (baseball)', 'George Kell', 'George Kelly (baseball)', 'George Sisler', 'George Weiss (baseball)', 'George Wright (sportsman)', 'Gil Hodges', 'Golden Era Committee', 'Golden age of baseball', 'Goose Goslin', 'Goose Gossage', 'Greg Maddux', 'Grover Cleveland Alexander', 'Hack Wilson', 'Hal Newhouser', 'Hank Aaron', 'Hank Greenberg', "Hank O'Day", 'Happy Chandler', 'Harmon Killebrew', 'Harold Baines', 'Harry Heilmann', 'Harry Hooper', 'Harry Wright', 'Hartford Dark Blues', 'Heinie Manush', 'Henry Chadwick (writer)', 'Herb Pennock', 'Hilldale Club', 'Hilldale Daisies', 'Hilldale Giants', 'Hilton Smith', 'History of baseball in the United States', 'History of baseball team nicknames', 'History of the American League', 'History of the Boston Braves', 'History of the Brooklyn Dodgers', 'History of the New York Giants (NL)', 'History of the Philadelphia Athletics', 'History of the St. Louis Browns', 'History of the Washington Senators (1901–60)', 'Home Run Baker', 'Homestead Grays', 'Honus Wagner', 'Hot stove league', 'Houston Astros', 'Hoyt Wilhelm', 'Hugh Duffy', 'Hughie Jennings', 'ISBN (identifier)', 'Indianapolis ABCs', 'Instant replay in Major League Baseball', 'Interleague play', 'Iván Rodríguez', 'J. L. Wilkinson', 'Jack Chesbro', 'Jack Morris', 'Jackie Robinson', 'Jackie Robinson Day', 'Jacob Ruppert', 'Jake Beckley', 'Japanese Baseball Hall of Fame', 'Jeff Bagwell', 'Jesse Burkett', 'Jesse Haines', 'Jim Bottomley', 'Jim Bunning', 'Jim Kaat', "Jim O'Rourke (baseball)", 'Jim Palmer', 'Jim Rice', 'Jim Thome', 'Jimmie Foxx', 'Jimmy Collins', 'Jocko Conlan', 'Joe Cronin', 'Joe DiMaggio', 'Joe Gordon', 'Joe Kelley', 'Joe McCarthy (manager)', 'Joe McGinnity', 'Joe Medwick', 'Joe Morgan', 'Joe Sewell', 'Joe Tinker', 'Joe Torre', 'John Clarkson', 'John Henry Lloyd', 'John McGraw', 'John Montgomery Ward', 'John Schuerholz', 
                'John Smoltz', 'Johnny Bench', 'Johnny Evers', 'Johnny Mize', 'Josh Gibson', 'José Méndez', 'Juan Marichal', 'Jud Wilson', 'Judy Johnson', 'Kansas City Monarchs', 'Kansas City Royals', 'Ken Griffey Jr.', 'Kenesaw Mountain Landis', 'Kid Nichols', 'Kiki Cuyler', 'King Kelly', 'Kirby Puckett', 'Knickerbocker Base Ball Club', 'Larry Doby', 'Larry MacPhail', 'Larry Walker', 'Lee MacPhail', 'Lee Smith (baseball)', 'Left fielder', 'Lefty Gomez', 'Lefty Grove', 'Leo Durocher', 'Leon Day', 'Lincoln Giants', 'List of American League pennant winners', 'List of American League presidents', 'List of Major League Baseball awards', 'List of Major League Baseball career records', 'List of Major League Baseball franchise postseason droughts', 'List of Major League Baseball franchise postseason streaks', 'List of Major League Baseball game sevens', 'List of Major League Baseball games played outside the United States and Canada', 'List of Major League Baseball mascots', 'List of Major League Baseball players suspended for performance-enhancing drugs', 'List of Major League Baseball postseason series', 'List of Major League Baseball postseason teams', 'List of Major League Baseball retired numbers', 'List of Major League Baseball seasons', 'List of Major League Baseball tie-breakers', 'List of National League pennant winners', 'List of National League presidents', 'List of Negro league baseball players who played in Major League Baseball', 'List of World Series champions', 'List of all-time Major League Baseball win–loss records', 'List of current Major League Baseball stadiums', 'List of defunct and relocated Major League Baseball teams', 'List of first black Major League Baseball players', 'List of highest-paid Major League Baseball players', 'List of members of the Mexican Professional Baseball Hall of Fame', 'Live-ball era', 'Lloyd Waner', 'Los Angeles Angels', 'Los Angeles Dodgers', 'Lou Boudreau', 'Lou Brock', 'Lou Gehrig', 'Louis Santop', 'Luis Aparicio', 'Luke Appling', 'MLB.com', 'MLB Advanced Media', 'MLB Little League Classic', 'MLB London Series', 'MLB Mexico City Series', 'MLB Network', 'MLB at Field of Dreams', 'MLB lockout', 'Major League Baseball', 'Major League Baseball All-Star Game', 'Major League Baseball Authentication Program', 'Major League Baseball Players Association', 'Major League Baseball draft', 'Major League Baseball drug policy', 'Major League Baseball game at Rickwood Field', 'Major League Baseball logo', 'Major League Baseball luxury tax', 'Major League Baseball on television', 'Major League Baseball on the radio', 'Major League Baseball postseason', 'Major League Baseball relocations of 1950s–1960s', 'Major League Baseball rivalries', 'Major League Baseball schedule', 'Major League Baseball tie-breaking procedures', 'Major League Baseball transactions', 'Major League Baseball uniforms', 'Manager (baseball)', 'Mariano Rivera', 'Martín Dihigo', 'Marvin Miller', 'Max Carey', 'Mel Ott', 'Miami Marlins', 'Mickey Cochrane', 'Mickey Mantle', 'Mickey Welch', 'Mike Mussina', 'Mike Piazza', 'Mike Schmidt', 'Miller Huggins', 'Milwaukee Braves (1953–69)', 'Milwaukee Brewers', 'Minnesota Twins', 'Minnie Miñoso', 'Minor League Baseball', 'Mitchell Report', 'Monte Irvin', 'Montreal Expos', 'Mordecai Brown', 'Morgan Bulkeley', 'Mule Suttles', 'Nap Lajoie', 'National Baseball Commission', 'National Baseball Hall of Fame and Museum', 
                'National League (baseball)', 'National League Central', 'National League Championship Series', 'National League Division Series', 'National League East', 'National League West', 'Ned Hanlon (baseball)', 'Negro leagues', 'Nellie Fox', 'Nestor Chylak', 'New York Cubans', 'New York Highlanders', 'New York Mets', 'New York Yankees', 'Newark Eagles', 'Nolan Ryan', 'Oakland Athletics', 'Opening Day', 'Orlando Cepeda', 'Oscar Charleston', 'Outfielder', 'Ozzie Smith', 'Pat Gillick', 'Paul Molitor', 'Paul Waner', 'Pedro Martínez', 'Pee Wee Reese', 'Pete Hill', 'Phil Niekro', 'Phil Rizzuto', 'Philadelphia Giants', 'Philadelphia Phillies', 'Philadelphia Stars (baseball)', 'Pie Traynor', 'Pitcher', 'Pittsburgh Crawfords', 'Pittsburgh Pirates', "Players' League", 'Players Weekend', 'Potential Major League Baseball expansion', 'Providence Grays', 'Pud Galvin', 'Rabbit Maranville', 'Ralph Kiner', 'Randy Johnson', 'Ray Brown (Negro leagues pitcher)', 'Ray Dandridge', 'Ray Schalk', 'Red Faber', 'Red Ruffing', 'Red Schoendienst', 'Reggie Jackson', 'Richie Ashburn', 'Rick Ferrell', 'Rickey Henderson', 'Right fielder', 'Rob Manfred', 'Roberto Alomar', 'Roberto Clemente', 'Robin Roberts (baseball)', 'Robin Yount', 'Rod Carew', 'Roger Bresnahan', 'Roger Connor', 'Rogers Hornsby', 'Rollie Fingers', 'Ron Santo', 'Ross Youngs', 'Roy Campanella', 'Roy Halladay', 'Rube Foster', 'Rube Marquard', 'Rube Waddell', 'Rule 5 draft', 'Ryne Sandberg', 'Sam Crawford', 'Sam Rice', 'Sam Thompson', 'San Diego Padres', 'San Francisco Giants', 'Sandy Koufax', 'Satchel Paige', 'Scott Rolen', 'Seattle Mariners', 'Second Baseman', 'Second baseman', 'Shortstop', 'Smokey Joe Williams', 'Sol White', 'Sparky Anderson', 'Spring training', 'St. Louis Cardinals', 'St. Louis Stars (baseball)', 'Stan Coveleski', 'Stan Musial', 'Steve Carlton', 'Tampa Bay Rays', 'Ted Lyons', 'Ted Simmons', 'Ted Williams', 'Texas Rangers (baseball)', 'The Official Professional Baseball Rules Book', 'Third baseman', 'Tim Keefe', 'Tim Raines', 'Timeline of Major League Baseball', 'Tom Connolly', 'Tom Glavine', 'Tom Seaver', 'Tom Yawkey', 'Tommy Lasorda', 'Tommy McCarthy (baseball)', 'Tony Gwynn', 'Tony La Russa', 'Tony Lazzeri', 'Tony Oliva', 'Tony Pérez', 'Toronto Blue Jays', 'Travis Jackson', 'Trevor Hoffman', 'Tris Speaker', 'Turkey Stearnes', 'Ty Cobb', 'Umpire (baseball)', 'Union Association', 'Veterans Committee', 'Vic Willis', 'Vladimir Guerrero', 'Wade Boggs', 'Waite Hoyt', 'Walter Alston', 'Walter Johnson', "Walter O'Malley", 'Warren Giles', 'Warren Spahn', 'Washington Nationals', 'Whatever Happened to the Hall of Fame?', 'Whitey Ford', 'Whitey Herzog', 'Wilbert Robinson', 'Wild Card Series', 'Will Harridge', 'Willard Brown', 'William Hulbert', 'Willie Keeler', 'Willie Mays', 'Willie McCovey', 'Willie Stargell', 'Willie Wells', 'Winter Meetings', 'World Baseball Classic', 'World Baseball Classic Inc.', 'World Series', 'World War II', 'Yogi Berra', 'Zack Wheat']
        